<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MediDates - Iniciar sesión</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body class="login-body">

    <main class="login-container">

        <!-- CARD LOGIN -->
        <section class="login-card fade-in">

            <img src="img/logo-medidates.png" alt="MediDates" class="login-logo">

            <div class="login-header">
                <h1>Bienvenido</h1>
                <p>Inicia sesión en tu cuenta MediDates</p>
            </div>

            <form class="login-form" onsubmit="return validarLogin()">
                <label>Correo electrónico</label>
                <input type="email" id="email" placeholder="correo@ejemplo.com">

                <label>Contraseña</label>
                <input type="password" id="password" placeholder="••••••••">

                <label for="role">Tipo de usuario</label>
                <select id="role" class="role-select">
                    <option value="">Selecciona una opción</option>
                    <option value="paciente">Paciente</option>
                    <option value="doctor">Médico</option>
                    <option value="admin">Administrador</option>
                </select>

                <div id="role-error" class="alert alert-error" style="display:none;">
                    Debes seleccionar un tipo de usuario.
                </div>

                <button type="submit" class="btn-primary login-btn">
                    Iniciar sesión
                </button>
            </form>

            <div class="login-extra">
                <a href="forgot-password.html" class="small-link">
                    ¿Olvidaste tu contraseña?
                </a>
                <a href="register.html" class="small-link">
                    ¿No tienes cuenta? Regístrate
                </a>
            </div>

        </section>

        <!-- ILUSTRACIÓN -->
        <section class="login-illustration-container fade-in">
            <img src="img/img-hero-login.png" alt="Ilustración login" class="login-illustration">
        </section>

    </main>

    <script>
        function validarLogin() {
            const email = document.getElementById("email").value.trim();
            const password = document.getElementById("password").value.trim();
            const role = document.getElementById("role").value;
            const error = document.getElementById("role-error");

            error.style.display = "none";
            error.innerText = "";

            if (email === "") {
                mostrarError("El correo electrónico es obligatorio.");
                return false;
            }

            if (password === "") {
                mostrarError("La contraseña es obligatoria.");
                return false;
            }

            if (role === "") {
                mostrarError("Debes seleccionar un tipo de usuario.");
                return false;
            }

            // Redirección simulada
            if (role === "paciente") {
                window.location.href = "dashboard.html";
            } else if (role === "doctor") {
                window.location.href = "doctor/dashboard-doctor.html";
            } else if (role === "admin") {
                window.location.href = "admin/dashboard-admin.html";
            }

            return false;
        }

        function mostrarError(mensaje) {
            const error = document.getElementById("role-error");
            error.innerText = mensaje;
            error.style.display = "block";
        }
    </script>

</body>

</html>